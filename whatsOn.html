<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="logo/neon logo.png" type="image/icon" />
    <title>What's On</title>
    <!--link to stylesheet-->
    <link rel="stylesheet" href="stylesheetneon.css" />
    <!--link to boxicons-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <link rel="stylesheet" href="stylesheetwhatsOn.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>

  <body>
    <special-header></special-header>

    <div id="movie-details" class="movie-section"></div>

    <div id="showtimes" class="showtimes"></div>

    <section id="movie-info" class="movie-info"></section>

    <section class="movie-reviews">
      <h2>Rate Your Experience!</h2>
      <div class="review">
        <ul class="ratings">
          <i class="fa-solid fa-star" id="star-1"></i>

          <i class="fa-solid fa-star" id="star-2"></i>

          <i class="fa-solid fa-star" id="star-3"></i>

          <i class="fa-solid fa-star" id="star-4"></i>

          <i class="fa-solid fa-star" id="star-5"></i>
        </ul>

        <h3>Tell us more about your overall experience</h3>

        <textarea
          name=""
          id=""
          rows="8"
          placeholder="Write your review..."
        ></textarea>
        <button onclick="onSubmit()">Submit Feedback</button>
      </div>

      <div id="thank-you-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Thank You!</h2>
          <p>Your feedback has been submitted successfully.</p>
          <button id="close-modal">Close</button>
        </div>
      </div>
    </section>

    <special-footer></special-footer>

    <script type="module">
      import { movies } from "./data.js";

      const urlParams = new URLSearchParams(window.location.search);
      const movieId = urlParams.get("id");

      const movie = movies.find((item) => item.id == movieId);

      const details = document.getElementById("movie-details");
      const movieDetails = `
            <div class="movie-box">
             <div class="title">
                <h1 id="movie-title">${movie.title}</h1>
                <div id="movie-rating" class="rating">${movie.rating}</div>
            </div>

            <div class="movie-details">
                <div class="poster">
                    <img id="movie-image" src="${movie.image}" loading="lazy" alt="Movie Poster" />
                </div>
                <div class="trailer">
                    <iframe id="movie-trailer"
                        width="560" height="315"
                        src="${movie.trailer}" loading="lazy"
                        title="YouTube video player"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen>
                    </iframe>
                </div>
                </div>
                `;

      const data = document.getElementById("movie-info");

      const movieData = `
<hr class="dashed" />
<div class="info">
      <aside>
          <p><strong>Genre:</strong> <span id="movie-genre">${movie.genre}</span></p>
          <p><strong>Director:</strong> <span id="movie-director">${movie.director}</span></p>
          <p><strong>Running Time:</strong> <span id="movie-duration">${movie.duration}</span></p>
          <p><strong>Release Date:</strong> <span id="movie-release">${movie.release}</span></p>
          <p><strong>Starring:</strong> <span id="movie-starring">${movie.starring}</span></p>
          <p><strong>Language:</strong> <span id="movie-language">${movie.language}</span></p>
          <p><strong>Subtitles:</strong> <span id="movie-subtitles">${movie.subtitles}</span></p>
      </aside>
      <article>
          <p class="description" id="movie-description">${movie.description}</p>
      </article>
  </div>
  <hr class="dashed" />`;

      const showtimes = document.getElementById("showtimes");
      const button = `<a href="showtimes.html?id=${movieId}"><button  class="showtimes-btn">View Showtimes</button></a>`;


      showtimes.innerHTML = button;
      details.innerHTML = movieDetails;
      data.innerHTML = movieData;
    </script>

    <!--link to js page-->
    <script src="headerFooter.js"></script>
    <script src="rating.js"></script>

    <script>
      const list = document.getElementsByClassName("navbar");
      list[0].children[1].children[0].classList.add("actvt-home");
    </script>
  </body>
</html>
